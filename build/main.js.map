{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/tabs/tabs.ts","../../src/pages/dialer/dialer.ts","../../src/pages/settings/settings.ts","../../src/pages/settings/menu.ts","../../src/pages/in-call-modal/in-call-modal.ts","../../src/main/sequences.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/main/index.ts","../../src/main/providers/Sip.ts","../../src/main/actions.ts","../../src/main/providers/Modal.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 122;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 122\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 163;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 163\n// module chunks = 0","import { Component } from \"@angular/core\";\nimport { DialerPage } from '../dialer/dialer'\nimport {\n  SettingsPage\n} from '../settings/settings'\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class RegistrarTabsPage {\n  // this tells the tabs component which Pages\n  // should be each tab's root Page\n  dialer = DialerPage;\n  settings = SettingsPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import {\n  Component,\n  ChangeDetectorRef,\n  ChangeDetectionStrategy\n} from \"@angular/core\";\nimport {\n  connect,\n  ControllerService,\n  CerebralComponent\n} from \"@cerebral/angular\";\nimport { state, signal } from \"cerebral/tags\";\n\n@Component({\n  selector: \"page-registrar-dialer\",\n  templateUrl: \"dialer.html\",\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n@connect({\n  name: state([\"username\"]),\n  authUsername: state([\"settings.username\"]),\n  toCall: state([\"toCall\"]),\n  registered: state([\"registered\"]),\n  call: signal([\"call\"]),\n  register: signal([\"register\"]),\n  unregister: signal([\"unregister\"]),\n  saveInput: signal([\"saveInput\"])\n})\nexport class DialerPage extends CerebralComponent {\n  constructor(\n    public cdr: ChangeDetectorRef,\n    public controller: ControllerService\n  ) {\n    super(cdr, controller);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dialer/dialer.ts","import {\n  Component,\n  ChangeDetectorRef,\n  ChangeDetectionStrategy\n} from \"@angular/core\";\nimport {\n  connect,\n  ControllerService,\n  CerebralComponent\n} from \"@cerebral/angular\";\nimport { state, signal } from \"cerebral/tags\";\nimport { PopoverController } from 'ionic-angular'\nimport { SettingsMenu } from './menu'\n\n@Component({\n  selector: \"page-settings\",\n  templateUrl: \"settings.html\",\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n@connect({\n  server: state([\"settings.server\"]),\n  domain: state([\"settings.domain\"]),\n  username: state([\"settings.username\"]),\n  password: state([\"settings.password\"]),\n  iceServers: state([\"settings.iceServers\"]),\n\n  saveInput: signal([\"saveInput\"]),\n  addIceServer: signal([\"addIceServer\"]),\n  deleteIceServer: signal([\"deleteIceServer\"]),\n})\nexport class SettingsPage extends CerebralComponent {\n  constructor(\n    public cdr: ChangeDetectorRef,\n    public controller: ControllerService,\n    private popoverCtrl: PopoverController\n  ) {\n    super(cdr, controller);\n  }\n\n  presentRadioPopover(ev: UIEvent) {\n    this.popoverCtrl.create(SettingsMenu).present({\n      ev: ev\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import {\n  Component,\n  ChangeDetectorRef,\n} from \"@angular/core\";\nimport {\n  connect,\n  ControllerService,\n  CerebralComponent\n} from \"@cerebral/angular\";\nimport { signal } from \"cerebral/tags\";\n\n@Component({\n  template: `\n    <ion-list>\n    <ion-list-header color=\"primary\">Menu</ion-list-header>\n    <button ion-item (tap)=\"addIceServer()\">\n      <ion-icon name=\"add\" item-start></ion-icon>Add an Ice Server</button>\n  </ion-list>\n  `\n})\n@connect({\n  addIceServer: signal([\"addIceServer\"]),\n})\nexport class SettingsMenu  extends CerebralComponent {\n  constructor(\n    public cdr: ChangeDetectorRef,\n    public controller: ControllerService,\n  ) {\n    super(cdr, controller);\n  }\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/menu.ts","import {\n  Component,\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n} from \"@angular/core\";\nimport {\n  connect,\n  ControllerService,\n  CerebralComponent\n} from \"@cerebral/angular\";\nimport { state, signal } from \"cerebral/tags\";\nimport { ViewController, NavParams } from \"ionic-angular\"\n\n@Component({\n  selector: \"page-in-call-modal\",\n  templateUrl: \"in-call-modal.html\",\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\n@connect({\n  name: state([\"call.name\"]),\n  connected: state([\"call.connected\"]),\n  type: state([\"call.type\"]),\n  answer: signal([\"answer\"]),\n  hangup: signal([\"hangup\"]),\n})\nexport class ModalPage extends CerebralComponent {\n  constructor(\n    public cdr: ChangeDetectorRef,\n    public controller: ControllerService,\n    public viewCtrl: ViewController,\n  ) {\n    super(cdr, controller);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/in-call-modal/in-call-modal.ts","import { set } from \"cerebral/operators\";\nimport { state } from \"cerebral/tags\";\nimport {\n  decideWhatToDo,\n  shouldRegister,\n  register,\n  unregister,\n  call,\n  openInCallModal,\n  setCallName,\n  answer,\n  hangup,\n  closeModal\n} from \"./actions\";\n\nexport const callSequence = [\n  set(state([\"call.type\"]), \"outgoing\"),\n  set(\n    state([\"call.name\"]),\n    state([\"toCall\"])\n  ),\n\n  decideWhatToDo,\n  {\n    setToCallWithLastRedialed: [\n      set(\n        state([\"toCall\"]),\n        state([\"lastDialed\"])\n      )\n    ],\n    doNothing: [],\n    call: [\n      set(\n        state([\"lastDialed\"]),\n        state([\"toCall\"])\n      ),\n      call,\n      {\n        next: [set(state([\"toCall\"]), \"\")],\n        error: [set(state([\"toCall\"]), \"\")]\n      },\n      openInCallModal,\n      set(state([\"call.connected\"]), false)\n    ]\n  }\n];\n\nexport const registerSequence = [\n  shouldRegister,\n  {\n    register: [\n      register,\n      {\n        next: [set(state([\"registered\"]), true)],\n        error: []\n      }\n    ]\n  }\n];\n\nexport const unregisterSequence = [unregister];\n\nexport const onInvite = [\n  set(state([\"call.type\"]), \"incoming\"),\n  setCallName,\n  openInCallModal\n];\n\nexport const hangupSequence = [\n  hangup,\n  closeModal,\n  set(state([\"call.connected\"]), false)\n];\n\nexport const answerSequence = [\n  answer,\n  set(state([\"call.connected\"]), true)\n];\n\nexport const onAccepted = [\n  set(state([\"call.connected\"]), true)\n];\n\nexport const onTerminated = [\n  set(state([\"call.connected\"]), false),\n  closeModal\n];\n\nexport const onBye = [\n  set(state([\"call.connected\"]), false),\n  closeModal\n];\n\nexport const onRejected = [\n  set(state([\"call.connected\"]), false),\n  closeModal\n];\n\nexport const onCancel = [\n  set(state([\"call.connected\"]), false),\n  closeModal\n];\n\nexport const onRegistrationFailed = [\n  set(state([\"registered\"]), false),\n]\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/sequences.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from \"@angular/platform-browser\";\nimport { ErrorHandler, NgModule } from \"@angular/core\";\nimport {\n  IonicApp,\n  IonicErrorHandler,\n  IonicModule,\n  ModalController\n} from \"ionic-angular\";\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\nimport { StatusBar } from \"@ionic-native/status-bar\";\n\nimport { ControllerService } from \"@cerebral/angular\";\n\nimport { MyApp } from \"./app.component\";\nimport { RegistrarTabsPage } from \"../pages/tabs/tabs\";\nimport { DialerPage } from \"../pages/dialer/dialer\";\nimport { SettingsPage } from \"../pages/settings/settings\";\nimport { ModalPage } from \"../pages/in-call-modal/in-call-modal\";\nimport { SettingsMenu } from '../pages/settings/menu'\n\nimport { cerebralFactory } from \"../main\";\nimport Devtools from \"cerebral/devtools\";\n\nfunction configureController(modal: ModalController) {\n  const cerebral = cerebralFactory(modal);\n\n  return new ControllerService(cerebral, {\n    devtools: Devtools({\n      host: \"localhost:9999\",\n      reconnect: true,\n      storeMutations: true,\n      bigComponentsWarning: 5,\n      warnStateProps: true\n    })\n  });\n}\n\n@NgModule({\n  declarations: [\n    MyApp,\n    RegistrarTabsPage,\n    DialerPage,\n    SettingsPage,\n    ModalPage,\n    SettingsMenu\n  ],\n  imports: [BrowserModule, IonicModule.forRoot(MyApp)],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    RegistrarTabsPage,\n    DialerPage,\n    SettingsPage,\n    ModalPage,\n    SettingsMenu\n\n  ],\n  providers: [\n    {\n      provide: ControllerService,\n      useFactory: configureController,\n      deps: [ModalController]\n    },\n    StatusBar,\n    SplashScreen,\n    { provide: ErrorHandler, useClass: IonicErrorHandler }\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { connect, ControllerService } from \"@cerebral/angular\";\nimport { RegistrarTabsPage } from '../pages/tabs/tabs'\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = RegistrarTabsPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import StorageModule from \"@cerebral/storage\";\nimport { Module } from \"cerebral\";\nimport Sip from \"./providers/Sip\";\nimport {\n  onAccepted,\n  onCancel,\n  onInvite,\n  onRejected,\n  onTerminated,\n  onRegistrationFailed\n} from \"./sequences\";\nimport Modal from \"./providers/Modal\";\nimport * as sequences from \"./sequences\";\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst username = urlParams.get(\"username\");\n\nexport function cerebralFactory(modal) {\n  return Module({\n    state: {\n      settings: {\n        server: \"127.0.0.1\",\n        domain: \"ctel.com\",\n        username: \"1234\",\n        password: \"1234\",\n        iceServers: [\n          { url: \"stun:stun.l.google.com:19302\", username: \"\", credential: \"\" }\n        ]\n        // autoRegister: true,\n      },\n      lastDialed: \"\",\n      toCall: \"\",\n      registered: false,\n      username: username || \"\",\n      call: {\n        type: \"\",\n        name: \"\",\n        connected: false\n      }\n    },\n    catch: [],\n    providers: {\n      modal: Modal(modal),\n      sip: Sip({\n        onAccepted,\n        onRejected,\n        onFailed: onCancel,\n        onConnecting: [],\n        onTerminated,\n        onCancel,\n        onRegistrationFailed,\n        onRefer: [],\n        onBye: onCancel,\n        onProgress: [],\n        onDtmf: [],\n        // onMuted: [],\n        // onUnmuted: [],\n        onInfo: [],\n        onInvite\n      })\n    },\n    signals: {\n      saveInput: [\n        function saveInput({ props, state }) {\n          state.set(props.target, props.value);\n        }\n      ],\n      addIceServer: [\n        function addIceServer({ state }) {\n          let iceServers = state.get(\"settings.iceServers\");\n          iceServers.push({\n            url: \"\",\n            username: \"\",\n            credential: \"\"\n          });\n\n          state.set(\"settings.iceServers\", iceServers);\n        }\n      ],\n      deleteIceServer: [\n        function deleteIceServer({ props, state }) {\n          const { index } = props;\n          let iceServers = state.get(\"settings.iceServers\");\n          iceServers.splice(index, 1);\n\n          state.set(\"settings.iceServers\", iceServers);\n        }\n      ],\n      call: sequences.callSequence,\n      register: sequences.registerSequence,\n      unregister: sequences.unregisterSequence,\n      hangup: sequences.hangupSequence,\n      answer: sequences.answerSequence,\n      onRegistrationFailed: sequences.onRegistrationFailed\n    },\n    modules: {\n      storage: StorageModule({\n        target: localStorage,\n        json: true,\n        sync: {\n          settings: \"settings\",\n          lastDialed: \"lastDialed\"\n        }\n      })\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/index.ts","import SIP from \"sip.js\";\n\nconst EVENT_NAMES_TO_SIGNAL = [\n  { event: \"accepted\", sequence: \"onAccepted\" },\n  { event: \"rejected\", sequence: \"onRejected\" },\n  { event: \"failed\", sequence: \"onFailed\" },\n  { event: \"connecting\", sequence: \"onConnecting\" },\n  { event: \"terminated\", sequence: \"onTerminated\" },\n  { event: \"cancel\", sequence: \"onCancel\" },\n  { event: \"refer\", sequence: \"onRefer\" },\n  { event: \"bye\", sequence: \"onBye\" },\n  { event: \"progress\", sequence: \"onProgress\" },\n  { event: \"dtmf\", sequence: \"onDtmf\" }\n  // { event: \"muted\", sequence: \"onMuted\" },\n  // { event: \"unmuted\", sequence: \"onUnmuted\" }\n];\n\nimport { Provider } from \"cerebral\";\n\nexport default function Sip({\n  onAccepted,\n  onRejected,\n  onFailed,\n  onConnecting,\n  onTerminated,\n  onCancel,\n  onRegistrationFailed,\n  onRefer,\n  onBye,\n  onProgress,\n  onDtmf,\n  // onMuted,\n  // onUnmuted,\n  onInfo,\n  onInvite\n}) {\n  let ua;\n  let session;\n\n  const sequences = {\n    onAccepted,\n    onRejected,\n    onFailed,\n    onConnecting,\n    onTerminated,\n    onCancel,\n    onRefer,\n    onBye,\n    onProgress,\n    onDtmf\n    // onMuted,\n    // onUnmuted\n  };\n\n  return Provider({\n    connect({ uri, wsServer, password, authorizationUser }, cb) {\n      try {\n        ua = new SIP.UA({\n          uri,\n          transportOptions: {\n            wsServers: [wsServer]\n          },\n          authorizationUser,\n          password,\n          register: true,\n          sessionDescriptionHandlerFactoryOptions: {\n            constraints: {\n              audio: true,\n              video: false\n            },\n            peerConnectionOptions: {\n              rtcConfiguration: {\n                iceServers: this.context.state.get(\"settings.iceServers\"),\n                // on ios this settings is overriden by cordova plugin\n                iceTransportPolicy: \"all\",\n                bundlePolicy: \"max-compat\",\n                rtcpMuxPolicy: \"negotiate\"\n              },\n              iceCheckingTimeout: 800 // on ios this is overridden by the cordova plugin\n            }\n          }\n        });\n      } catch (error) {\n        console.error(error);\n        cb(\"disconnected\");\n      }\n\n      ua.transport.on(\"connected\", transport => {\n        console.log(\"connected\");\n        cb();\n      });\n      ua.transport.on(\"connecting\", connecting => {\n        console.log(\"connecting\");\n      });\n      ua.transport.on(\"disconnected\", disc => {\n        console.log(\"disconnected\");\n        cb(\"disconnected\");\n      });\n      ua.on(\"registrationFailed\", (response, cause) => {\n        this.context.controller.runSignal(\n          \"onRegistrationFailed\",\n          onRegistrationFailed\n        );\n      });\n      ua.on(\"invite\", sess => {\n        session = sess;\n\n        session.on(\"cancel\", () => {\n          this.context.controller.runSignal(\"onCancel\", onCancel);\n        });\n        session.on(\"terminate\", () => {\n          this.context.controller.runSignal(\"onTerminated\", onTerminated);\n        });\n\n        session.on(\"bye\", () => {\n          this.context.controller.runSignal(\"onBye\", onBye);\n        });\n        this.context.controller.runSignal(\"onInvite\", onInvite, {\n          name:\n            session.request.from.displayName ||\n            session.request.from.friendlyName\n        });\n      });\n\n    },\n\n    attachEvents(session, controller) {\n      EVENT_NAMES_TO_SIGNAL.map((action: any) => {\n        session.on(action.event, (response, cause) => {\n          controller.runSignal(action.event, sequences[action.sequence], {\n            response:\n              response && response.method === \"BYE\"\n                ? \"\"\n                : response && response.data\n                  ? response.data\n                  : \"\",\n            cause: cause || \"\"\n          });\n        });\n      });\n    },\n    unregister() {\n      if (ua.isRegistered()) {\n        ua.unregister();\n      }\n    },\n    answer() {\n      try {\n        session.accept();\n      } catch (error) {\n        console.log(\"error answering\");\n      }\n    },\n    invite(target, options, cb) {\n      try {\n        let sess = ua.invite(target, options);\n\n        const call_id = sess.request.call_id;\n\n        session = sess;\n\n        this.attachEvents(session, this.context.controller);\n\n        session.onInfo = request =>\n          this.context.controller.runSignal(\"onInfo\", onInfo, { request });\n\n        session.on(\"trackAdded\", function() {\n          var remoteAudio: any = document.getElementById(\"remoteAudio\");\n\n          var pc = session.sessionDescriptionHandler.peerConnection;\n          var remoteStream;\n\n          remoteStream = pc.getRemoteStreams()[0];\n\n          remoteAudio.srcObject = remoteStream;\n          remoteAudio.volume = 1;\n          remoteAudio.play();\n        });\n\n        cb(null, call_id);\n      } catch (error) {\n        console.log(error);\n        cb(\"error invite\");\n      }\n    },\n    hangup() {\n      try {\n        session.bye();\n      } catch (error) {\n        console.log(\"error hanging up\");\n      }\n    },\n    reject() {\n      try {\n        session.reject();\n      } catch (error) {\n        console.log(\"error rejecting\");\n      }\n    },\n    cancel() {\n      try {\n        session.cancel();\n      } catch (error) {\n        console.log(\"error cancelling\", error);\n      }\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/providers/Sip.ts","import { ModalPage } from \"../pages/in-call-modal/in-call-modal\";\n\nexport function register({ sip, state, path }) {\n  return new Promise((resolve, reject) => {\n    const server = state.get(\"settings.server\");\n    const domain = state.get(\"settings.domain\");\n    const authUsername = state.get(\"settings.username\");\n    const password = state.get(\"settings.password\");\n    const username = state.get(\"username\");\n    sip.connect(\n      {\n        uri: (username || authUsername) + \"@\" + domain,\n        wsServer: \"ws://\" + server,\n        authorizationUser: authUsername,\n        password: password\n      },\n      (error, result) => {\n        if (error) {\n          return resolve(path.error());\n        }\n        resolve(path.next());\n      }\n    );\n  });\n}\n\nexport function unregister({ sip, state, path }) {\n  sip.unregister();\n  state.set(\"registered\", false);\n}\n\nexport function call({ sip, state, path }) {\n  return new Promise((resolve, reject) => {\n    const domain = state.get(\"settings.domain\");\n    const toCall = state.get(\"toCall\");\n    sip.invite(\n      toCall + \"@\" + domain,\n      {\n        sessionDescriptionHandlerOptions: {\n          constraints: {\n            audio: true,\n            video: false\n          }\n        }\n      },\n      (error, result) => {\n        if (error) {\n          return resolve(path.error());\n        }\n        resolve(path.next());\n      }\n    );\n  });\n}\n\nexport function decideWhatToDo({ state, path }) {\n  const lastDialed = state.get(\"lastDialed\");\n  const toCall = state.get(\"toCall\");\n\n  if (!toCall && !lastDialed) {\n    return path.doNothing();\n  }\n  if (!toCall && lastDialed) {\n    return path.setToCallWithLastRedialed();\n  }\n  if (toCall) {\n    return path.call();\n  }\n\n  return path.doNothing();\n}\n\nexport function shouldRegister({ path }) {\n  return path.register();\n}\n\nexport function openInCallModal({ modal }) {\n  modal.create(ModalPage);\n}\n\nexport function setCallName({ state, props }) {\n  state.set(\n    \"call.name\",\n    props.name.split(\"@\")[0] || \"Unknown\"\n  );\n}\n\nexport function answer({ sip }) {\n  sip.answer();\n}\n\nexport function hangup({ sip, state }) {\n  const type = state.get(\"call.type\");\n  const connected = state.get(\"call.connected\");\n  if (type === \"incoming\") {\n    if (!connected) {\n      sip.reject();\n    } else {\n      sip.hangup();\n    }\n  } else {\n    if (connected) {\n      sip.hangup();\n    } else {\n      sip.cancel();\n    }\n  }\n}\n\nexport function closeModal({ modal }) {\n  modal.close();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/actions.ts","import { Provider } from \"cerebral\";\n\nexport default function Modal(modal) {\n  let modalInstance;\n\n  return Provider({\n    create(modalPage) {\n      if (!modalInstance) {\n        modalInstance = modal.create(modalPage);\n        modalInstance.present();\n      }\n    },\n    close() {\n      if (modalInstance) {\n        modalInstance\n          .dismiss()\n          .then(error => {\n            console.log(error);\n            modalInstance = null;\n          })\n          .catch(error => {\n            console.log(error);\n            modalInstance = null;\n          });\n      }\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/providers/Modal.ts"],"sourceRoot":""}